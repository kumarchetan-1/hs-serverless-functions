<div class="cpd_watched_videos" data-contactid="{{ request_contact.contact.hs_object_id }}">
  <div class="top-title">
    {{ module.text }}
  </div>

  <!-- Search and Controls -->
  <div class="controls-container">
    <div class="controls-wrapper">
      <!-- Search Bar -->
      <div class="search-container">
        <input type="text" id="searchInput" placeholder="Search videos...">
        <svg class="search-icon" width="24px" height="24px" viewBox="0 -0.5 25 25" fill="none" xmlns="http://www.w3.org/2000/svg"><g id="SVGRepo_bgCarrier" stroke-width="0"></g><g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"></g><g id="SVGRepo_iconCarrier"> <path fill-rule="evenodd" clip-rule="evenodd" d="M5.5 11.1455C5.49956 8.21437 7.56975 5.69108 10.4445 5.11883C13.3193 4.54659 16.198 6.08477 17.32 8.79267C18.4421 11.5006 17.495 14.624 15.058 16.2528C12.621 17.8815 9.37287 17.562 7.3 15.4895C6.14763 14.3376 5.50014 12.775 5.5 11.1455Z" stroke="#777" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"></path> <path d="M15.989 15.4905L19.5 19.0015" stroke="#777" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"></path> </g></svg>
      </div>

      <!-- Filter and Sort Controls -->
      <div class="filter-controls">
        <!-- Filter Dropdown -->
        <div class="select-container">
          <select id="filterSelect">
            <option value="all">All Videos</option>
            <option value="today">Watched Today</option>
            <option value="thisWeek">Watched This Week</option>
            <option value="thisMonth">Watched This Month</option>
          </select>
         <svg class="select-arrow" width="24px" height="24px" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><g id="SVGRepo_bgCarrier" stroke-width="0"></g><g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"></g><g id="SVGRepo_iconCarrier"> <path d="M6 9L12 15L18 9" stroke="#777" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"></path> </g></svg>
        </div>

        <!-- Sort Dropdown -->
        <div class="select-container">
          <select id="sortSelect">
            <option value="recent">Most Recent</option>
            <option value="oldest">Oldest First</option>
          </select>
         <svg class="select-arrow" width="24px" height="24px" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><g id="SVGRepo_bgCarrier" stroke-width="0"></g><g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"></g><g id="SVGRepo_iconCarrier"> <path d="M6 9L12 15L18 9" stroke="#777" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"></path> </g></svg>
        </div>

        <!-- View Toggle -->
        <div class="view-toggle">
          <button id="gridViewBtn" class="active">
            <svg fill="none" width="15px" height="15px" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><g id="SVGRepo_bgCarrier" stroke-width="0"></g><g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"></g><g id="SVGRepo_iconCarrier"><path d="M20,3H4A1,1,0,0,0,3,4V20a1,1,0,0,0,1,1H20a1,1,0,0,0,1-1V4A1,1,0,0,0,20,3ZM11,19H5V13h6Zm0-8H5V5h6Zm8,8H13V13h6Zm0-8H13V5h6Z"></path></g></svg>
          </button>
          <button id="listViewBtn">
            <svg width="15px" height="15px" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><g id="SVGRepo_bgCarrier" stroke-width="0"></g><g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"></g><g id="SVGRepo_iconCarrier"> <path d="M8 6L21 6.00078M8 12L21 12.0008M8 18L21 18.0007M3 6.5H4V5.5H3V6.5ZM3 12.5H4V11.5H3V12.5ZM3 18.5H4V17.5H3V18.5Z" stroke="#555" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"></path> </g></svg>
          </button>
        </div>
      </div>
    </div>
  </div>

  <!-- Video Count -->
  <div class="video-count" id="videoCount"></div>

  <!-- Videos Grid View (Default) -->
  <div id="videosGridView" class="videos-grid"></div>

  <!-- Videos List View (Hidden by Default) -->
  <div id="videosListView" class="videos-list hidden"></div>

  <!-- Loading State -->
  <div id="loading" class="loading">
    <div class="loading-spinner"></div>
    <p class="loading-text">Loading your watch history...</p>
  </div>

  <!-- Error State -->
  <div id="error" class="error hidden">
    <div class="error-icon"><i class="fas fa-exclamation-circle"></i></div>
    <h3 class="error-title">Unable to load videos</h3>
    <p class="error-message">Please try again later or contact support</p>
  </div>

  <!-- No Results Message -->
  <div id="noResults" class="no-results hidden">
    <div class="no-results-icon"><i class="far fa-sad-tear"></i></div>
    <h3 class="no-results-title">No videos found</h3>
    <p class="no-results-message">Try adjusting your search or filter settings</p>
  </div>
</div>
